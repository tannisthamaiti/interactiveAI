<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pop Quiz: AI's Study Plan (Code Edition!)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f7f9fc;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 25px 40px;
        }
        h1 {
            color: #005a9c;
            text-align: center;
        }
        h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }
        h3 {
            color: #17a2b8;
            margin-top: 25px;
        }
        .question-block {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .question-block p {
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 0;
        }
        .options div {
            margin-bottom: 10px;
        }
        label {
            margin-left: 8px;
            cursor: pointer;
        }
        input[type="radio"] {
            cursor: pointer;
        }
        button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: block;
            margin: 30px auto 0;
        }
        button:hover {
            background-color: #218838;
        }
        .feedback {
            margin-top: 15px;
            padding: 12px;
            border-radius: 5px;
            font-weight: bold;
            display: none; /* Hidden by default */
        }
        .correct {
            background-color: #e6f7ec;
            border: 1px solid #5cb85c;
            color: #3c763d;
            display: block;
        }
        .incorrect {
            background-color: #fbeaea;
            border: 1px solid #d9534f;
            color: #a94442;
            display: block;
        }
        #score {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
        }
        pre {
            background-color: #2d2d2d;
            color: #f1f1f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: "Courier New", Courier, monospace;
        }
        textarea {
            width: 95%;
            height: 100px;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            font-family: "Courier New", Courier, monospace;
            font-size: 1.1em;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Pop Quiz: AI's "Study Plan" (Code Edition!)</h1>
        <p>Let's see if you've got the hang of the <strong>Test-Train-Val</strong> split, plus the code to make it happen!</p>

        <form id="quiz-form">

            <h2>Section 1: The Exam Analogy üß†</h2>
            <div class="question-block">
                <p>1. What is the **Training Set** (your "Homework") for?</p>
                <div class="options">
                    <input type="radio" id="q1a" name="q1" value="a"><label for="q1a">A) Getting a final, honest grade.</label><br>
                    <input type="radio" id="q1b" name="q1" value="b"><label for="q1b">B) Studying the most data and learning the patterns.</label><br>
                    <input type="radio" id="q1c" name="q1" value="c"><label for="q1c">C) Taking a "practice quiz" to check for weaknesses.</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question-block">
                <p>2. Why can't we let the AI "study" from the **Test Set**?</p>
                <div class="options">
                    <input type="radio" id="q2a" name="q2" value="a"><label for="q2a">A) Because the test data is usually lower quality.</label><br>
                    <input type="radio" id="q2b" name="q2" value="b"><label for="q2b">B) It would be cheating! The AI would just memorize the answers.</label><br>
                    <input type="radio" id="q2c" name="q2" value="c"><label for="q2c">C) Because the Training and Test sets must be the same size.</label>
                </div>
                <div class="feedback"></div>
            </div>

            <h2>Section 2: Real-World Examples üéÆüå≤</h2>
            <div class="question-block">
                <p>3. You teach an AI to play a video game on Levels 1-70. You check its score on Levels 71-85. You get its *final* score on Levels 86-100. What are Levels 86-100?</p>
                <div class="options">
                    <input type="radio" id="q3a" name="q3" value="a"><label for="q3a">A) The Training Set (Homework)</label><br>
                    <input type="radio" id="q3b" name="q3" value="b"><label for="q3b">B) The Validation Set (Practice Quiz)</label><br>
                    <input type="radio" id="q3c" name="q3" value="c"><label for="q3c">C) The Test Set (Final Exam)</label>
                </div>
                <div class="feedback"></div>
            </div>

            <div class="question-block">
                <p>4. You want to build an AI to identify 10 different animals. What would your **Training Set** be?</p>
                <div class="options">
                    <input type="radio" id="q4a" name="q4" value="a"><label for="q4a">A) About 700 photos *with labels* (e.g., "This is a lion") for the AI to study.</label><br>
                    <input type="radio" id="q4b" name="q4" value="b"><label for="q4b">B) About 150 *new* photos *without labels* to get a final score.</label><br>
                    <input type="radio" id="q4c" name="q4" value="c"><label for="q4c">C) A dictionary with the definition of each animal.</label>
                </div>
                <div class="feedback"></div>
            </div>

            <h2>Section 3: Smarter Splitting! ü§î</h2>
            <div class="question-block">
                <p>5. (Curated Sets) You have 100 photos of apples and 100 photos of oranges. What's the *WORST* way to split your data?</p>
                <div class="options">
                    <input type="radio" id="q5a" name="q5" value="a"><label for="q5a">A) Train: 70 apples, 70 oranges. Test: 30 apples, 30 oranges.</label><br>
                    <input type="radio" id="q5b" name="q5" value="b"><label for="q5b">B) Train: *all 100 apples*. Test: *all 100 oranges*.</label><br>
                    <input type="radio" id="q5c" name="q5" value="c"><label for="q5c">C) Randomly shuffle all 200 photos and split them 70%/30%.</label>
                </div>
                <div class="feedback"></div>
            </div>
            
            <div class="question-block">
                <p>6. (Intro to Cross-Validation) You have a *very small* dataset. What's a clever way to get a more trustworthy final score?</p>
                <div class="options">
                    <input type="radio" id="q6a" name="q6" value="a"><label for="q6a">A) Split into 5 piles. Test on pile 1 (train on 2-5). Then test on pile 2 (train on 1,3-5), and so on. *Average* the 5 scores.</label><br>
                    <input type="radio" id="q6b" name="q6" value="b"><label for="q6b">B) Just use all 100 photos for training and *hope* it works.</label><br>
                    <input type="radio" id="q6c" name="q6" value="c"><label for="q6c">C) Use 1 photo for testing and 99 for training.</label>
                </div>
                <div class="feedback"></div>
            </div>

            <h2>Section 4: Let's Write Some Code! üßë‚Äçüíª (Review)</h2>
            <p>Here are the code examples we just discussed. Review them before the Code Quiz!</p>
            
            <h3>Example 1: Stratified Splitting (The "Apple/Orange" Problem)</h3>
            <p>We use <code>stratify=y</code> to make sure the percentage of each class is the same in the train and test sets.</p>
            <pre><code>
from sklearn.model_selection import train_test_split

# X = all our features (the "clues")
# y = all our labels (the "answers")

X_train, X_test, y_train, y_test = train_test_split(
    X, y, 
    test_size=0.25,  # Test on 25% of the data
    stratify=y,      # <-- The magic key!
    random_state=42  # For consistent results
)
            </code></pre>
            
            <h3>Example 2: Cross-Validation (The "Small Dataset" Problem)</h3>
            <p>We use <code>cross_val_score</code> to automatically run the 5-fold (or k-fold) split-and-test loop for us and get an average score.</p>
            <pre><code>
from sklearn.model_selection import cross_val_score
from sklearn.linear_model import LogisticRegression

# model = Our AI model
# X = all our features
# y = all our labels

# cv=5 means "do 5-Fold Cross-Validation"
scores = cross_val_score(model, X, y, cv=5)

print(f"All 5 scores: {scores}")
print(f"Average score: {scores.mean()}")
            </code></pre>

            <h2>Section 5: Code Quiz! ‚úçÔ∏è</h2>
            <div class="question-block" id="q7-block">
                <p>7. The Unbalanced Zoo üê¶ü¶Ö</p>
                <p style="font-weight:normal; font-size: 1em;">You have `X` (features) and `y` (labels for 'Pigeon' and 'Hawk'). The data is <strong>unbalanced</strong>. Write the *one line* of code to split the data into `X_train`, `X_test`, `y_train`, `y_test`. Use 20% for the test set and make sure you get a *stratified* split.</p>
                
                <textarea id="q7" name="q7" rows="5" placeholder="Type your train_test_split(...) line here..."></textarea>
                <div class="feedback"></div>
            </div>
            
            <div class="question-block" id="q8-block">
                <p>8. The 5-Fold Shortcut ‚ö°</p>
                <p style="font-weight:normal; font-size: 1em;">You have `my_model`, `X`, and `y`. Write the *single line* of code to run a **5-fold cross-validation** and store the list of scores in a variable called `all_my_scores`.</p>
                
                <textarea id="q8" name="q8" rows="4" placeholder="Type your cross_val_score(...) line here..."></textarea>
                <div class="feedback"></div>
            </div>

            <button type="submit">Grade My Quiz!</button>

            <div id="score"></div>

        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizForm = document.getElementById('quiz-form');
            
            // --- ANSWERS ---
            
            // Section 1-3: Multiple Choice
            const correctAnswers = {
                q1: 'b', q2: 'b', q3: 'c', q4: 'a', q5: 'b', q6: 'a'
            };
            const explanations = {
                q1: { b: 'Correct! The Training Set is for learning patterns.', a: 'Not quite. That\'s the Test Set.', c: 'Close! That\'s the Validation Set.' },
                q2: { b: 'Exactly! The AI would just memorize the answers.', a: 'Not true. Test data should be high quality.', c: 'Not true. The Training Set is usually much bigger.' },
                q3: { c: 'Correct! Since it\'s the *final* test on *unseen* levels, it\'s the Test Set.', a: 'Incorrect. Levels 1-70 were for training.', b: 'Incorrect. Levels 71-85 were for validation.' },
                q4: { a: 'Yes! The Training Set must have both the data (photos) and the answers (labels).', b: 'Incorrect. This describes the Test Set.', c: 'Incorrect. The AI needs to learn from the pictures.' },
                q5: { b: 'Correct! This is a terrible idea. The AI will learn "everything is an apple" and fail 100% on the test.', a: 'This is a great, curated split.', c: 'This random split is usually good.' },
                q6: { a: 'Exactly! This is the core idea of Cross-Validation for a more reliable score.', b: 'This is risky! You have no idea if your AI is any good.', c: 'This takes a very long time and can be unstable.' }
            };

            // Section 5: Code Quiz
            const codeAnswers = {
                q7: {
                    check: (answer) => {
                        const simple = answer.replace(/\s+/g, ''); // remove all whitespace
                        return simple.includes('train_test_split') && simple.includes('stratify=y');
                    },
                    feedback: "Correct! The keys are <code>train_test_split</code> and <code>stratify=y</code>.",
                    hint: "Not quite. Make sure you are using <code>train_test_split</code> and included the magic argument: <code>stratify=y</code>."
                },
                q8: {
                    check: (answer) => {
                        const simple = answer.replace(/\s+/g, ''); // remove all whitespace
                        return simple.includes('cross_val_score') && (simple.includes('cv=5') || simple.includes('cv=5)'));
                    },
                    feedback: "Perfect! <code>cross_val_score(my_model, X, y, cv=5)</code> is the one-line shortcut.",
                    hint: "Close! Remember to use <code>cross_val_score</code> and set <code>cv=5</code>."
                }
            };
            
            // --- GRADING LOGIC ---
            
            quizForm.addEventListener('submit', (e) => {
                e.preventDefault(); // Stop the page from reloading!

                let score = 0;
                const totalMCQ = 6;
                const totalCode = 2;
                const totalQuestions = totalMCQ + totalCode;

                // 1. Grade Multiple Choice (Questions 1-6)
                for (let i = 1; i <= totalMCQ; i++) {
                    const qName = `q${i}`;
                    const selected = quizForm.querySelector(`input[name="${qName}"]:checked`);
                    const feedbackDiv = quizForm.querySelector(`input[name="${qName}"]`).closest('.question-block').querySelector('.feedback');

                    if (selected) {
                        const selectedValue = selected.value;
                        feedbackDiv.innerHTML = explanations[qName][selectedValue];
                        if (selectedValue === correctAnswers[qName]) {
                            score++;
                            feedbackDiv.className = 'feedback correct';
                        } else {
                            feedbackDiv.className = 'feedback incorrect';
                        }
                    } else {
                        feedbackDiv.innerHTML = 'Please select an answer.';
                        feedbackDiv.className = 'feedback incorrect';
                    }
                }
                
                // 2. Grade Code Quiz (Questions 7-8)
                for (let i = 1; i <= totalCode; i++) {
                    const qName = `q${i + totalMCQ}`; // e.g., q7, q8
                    const answer = document.getElementById(qName).value;
                    const feedbackDiv = document.getElementById(`${qName}-block`).querySelector('.feedback');
                    const answerKey = codeAnswers[qName];

                    if (answerKey.check(answer)) {
                        score++;
                        feedbackDiv.innerHTML = answerKey.feedback;
                        feedbackDiv.className = 'feedback correct';
                    } else {
                        feedbackDiv.innerHTML = answerKey.hint;
                        feedbackDiv.className = 'feedback incorrect';
                    }
                }

                // 3. Display Final Score
                const scoreDiv = document.getElementById('score');
                let scoreMessage = `You got <strong>${score} out of ${totalQuestions}</strong> correct!`;
                
                if (score === totalQuestions) {
                    scoreMessage += " üéâ Perfect Score! You're a code master!";
                    scoreDiv.style.backgroundColor = '#e6f7ec';
                    scoreDiv.style.color = '#3c763d';
                } else if (score >= totalQuestions / 2) {
                    scoreMessage += " üëç Great job! You've got this!";
                    scoreDiv.style.backgroundColor = '#fef7e0';
                    scoreDiv.style.color = '#8a6d3b';
                } else {
                    scoreMessage += " üß† Keep studying! You'll get it!";
                    scoreDiv.style.backgroundColor = '#fbeaea';
                    scoreDiv.style.color = '#a94442';
                }

                scoreDiv.innerHTML = scoreMessage;
                scoreDiv.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>

</body>
</html>
